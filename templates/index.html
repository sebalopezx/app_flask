{% extends 'layout.html' %}

{% block body %}

<div class="row">
    <div class="col-md-5">

        <div class="card card-body">
            
            <form action="/add_contact" method="POST">

                <div class="form-floating mb-2">
                    <input type="text" class="form-control" name="fullname" placeholder="Ingrese su nombre">
                    <label for="fullname">Nombre Completo</label>
                </div>
                <div class="form-floating mb-2">
                    <input type="text" class="form-control" name="phone" placeholder="Ingrese su número de teléfono">
                    <label for="phone">Teléfono</label>
                </div>
                <div class="form-floating mb-2">
                    <input type="text" class="form-control" name="email" placeholder="Ingrese su email">
                    <label for="email">Email</label>
                </div>
                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary ">
                        Guardar
                    </button>
                </div>
                
            </form>
        </div>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-success alert-dismissible fade show mt-3" role="alert">
                        <strong>{{message}}</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

    </div>
    <div class="col-md-7 mt-md-0 mt-4">

        <div class="table-responsive rounded">
            <table class="table table-striped table-bordered bg-white table-sm table-hover">
                <thead class="table-dark ">
                    <tr>
                        <th>Fullname</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Operations</th>
                    </tr>
                </thead>
                <tbody>
                    {% for contact in contacts %}
                    <tr>
                        <td>{{ contact.1 }}</td>
                        <td>{{ contact.2 }}</td>
                        <td>{{ contact.3 }}</td>
                        <td>
                            <a class="btn btn-warning btn-sm py-0 me-2" href="/get_contact/{{ contact.0 }}">Editar</a>
                            
                            <a class="btn btn-danger btn-sm py-0 btn-delete" href="/delete_contact/{{ contact.0 }}">Eliminar</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
            
        </div>
</div>

{% endblock body %}